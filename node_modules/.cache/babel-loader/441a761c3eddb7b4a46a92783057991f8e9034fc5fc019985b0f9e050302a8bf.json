{"ast":null,"code":"class Api {\n  constructor({\n    baseUrl,\n    headers\n  }) {\n    this.baseUrl = baseUrl;\n    this.headers = headers;\n  }\n  _makeRequest(endpoint, method = 'GET', body = null) {\n    const options = {\n      method,\n      headers: {\n        ...this.headers\n      }\n    };\n    if (body) {\n      options.headers['Content-Type'] = 'application/json'; // Corrigido 'aplication' para 'application'\n      options.body = JSON.stringify(body);\n    }\n    return fetch(`${this.baseUrl}${endpoint}`, options).then(res => {\n      if (!res.ok) throw new Error(`Server ERROR: ${res.status}`);\n      return res.json();\n    }).catch(error => {\n      console.error(\"Error:\", error);\n    });\n  }\n  getInitialCards() {\n    return this._makeRequest('/cards');\n  }\n  getUserInfo() {\n    return this._makeRequest('/users/me');\n  }\n  editProfile({\n    name,\n    about\n  }) {\n    return this._makeRequest('/users/me', 'PATCH', {\n      name,\n      about\n    });\n  }\n  editProfilePicture({\n    avatar\n  }) {\n    return this._makeRequest('/users/me/avatar', 'PATCH', {\n      avatar\n    });\n  }\n  addCard({\n    name,\n    link\n  }) {\n    return this._makeRequest('/cards', 'POST', {\n      name,\n      link\n    });\n  }\n  deleteCard(cardId) {\n    return this._makeRequest(`/cards/${cardId}`, 'DELETE');\n  }\n  changeLikeCardStatus(cardId, isLiked) {\n    // isLiked ? this.addLike(cardId) : this.removeLike(cardId);\n    return isLiked ? this._makeRequest(`/cards/likes/${cardId}`, 'PUT') : this._makeRequest(`/cards/likes/${cardId}`, 'DELETE');\n    ;\n  }\n  addLike(cardId) {\n    return this._makeRequest(`/cards/likes/${cardId}`, 'PUT');\n  }\n  removeLike(cardId) {\n    return this._makeRequest(`/cards/likes/${cardId}`, 'DELETE');\n  }\n}\nconst api = new Api({\n  baseUrl: \"https://around.nomoreparties.co/v1/web-ptbr-cohort-13\",\n  headers: {\n    authorization: \"4fe5fb1a-9a42-4631-9f7e-39eb49951a0f\",\n    \"Content-Type\": \"application/json\"\n  }\n});\nexport default api;","map":{"version":3,"names":["Api","constructor","baseUrl","headers","_makeRequest","endpoint","method","body","options","JSON","stringify","fetch","then","res","ok","Error","status","json","catch","error","console","getInitialCards","getUserInfo","editProfile","name","about","editProfilePicture","avatar","addCard","link","deleteCard","cardId","changeLikeCardStatus","isLiked","addLike","removeLike","api","authorization"],"sources":["/Users/biamsarmento/Documents/Tripleten/Sprint13/web_project_around_react/sprint13/src/utils/api.js"],"sourcesContent":["class Api {\n  constructor({baseUrl, headers}) {\n      this.baseUrl = baseUrl;\n      this.headers = headers;\n  }\n\n  _makeRequest(endpoint, method = 'GET', body = null) {\n      const options = {\n          method,\n          headers: {...this.headers}\n      };\n\n      if (body) {\n          options.headers['Content-Type'] = 'application/json'; // Corrigido 'aplication' para 'application'\n          options.body = JSON.stringify(body);\n      }\n\n      return fetch(`${this.baseUrl}${endpoint}`, options)\n          .then((res) => {\n              if (!res.ok) throw new Error(`Server ERROR: ${res.status}`);\n              return res.json();\n          })\n          .catch((error) => {\n              console.error(\"Error:\", error);\n          });\n  }\n\n  getInitialCards() {\n      return this._makeRequest('/cards');\n  }\n\n  getUserInfo() {\n      return this._makeRequest('/users/me');\n  }\n\n  editProfile({name, about}) {\n      return this._makeRequest('/users/me', 'PATCH', { name, about });\n  }\n\n  editProfilePicture({avatar}) {\n      return this._makeRequest('/users/me/avatar', 'PATCH', { avatar });\n  }\n\n  addCard({name, link}) {\n      return this._makeRequest('/cards', 'POST', { name, link });\n  }\n\n  deleteCard(cardId) {\n      return this._makeRequest(`/cards/${cardId}`, 'DELETE');\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    // isLiked ? this.addLike(cardId) : this.removeLike(cardId);\n    return isLiked ? this._makeRequest(`/cards/likes/${cardId}`, 'PUT') : this._makeRequest(`/cards/likes/${cardId}`, 'DELETE');;\n  }\n\n  addLike(cardId) {\n      return this._makeRequest(`/cards/likes/${cardId}`, 'PUT');\n  }\n\n  removeLike(cardId) {\n      return this._makeRequest(`/cards/likes/${cardId}`, 'DELETE');\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"https://around.nomoreparties.co/v1/web-ptbr-cohort-13\",\n  headers: {\n      authorization: \"4fe5fb1a-9a42-4631-9f7e-39eb49951a0f\",\n      \"Content-Type\": \"application/json\"\n  }\n});\n\nexport default api;\n"],"mappings":"AAAA,MAAMA,GAAG,CAAC;EACRC,WAAWA,CAAC;IAACC,OAAO;IAAEC;EAAO,CAAC,EAAE;IAC5B,IAAI,CAACD,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACC,OAAO,GAAGA,OAAO;EAC1B;EAEAC,YAAYA,CAACC,QAAQ,EAAEC,MAAM,GAAG,KAAK,EAAEC,IAAI,GAAG,IAAI,EAAE;IAChD,MAAMC,OAAO,GAAG;MACZF,MAAM;MACNH,OAAO,EAAE;QAAC,GAAG,IAAI,CAACA;MAAO;IAC7B,CAAC;IAED,IAAII,IAAI,EAAE;MACNC,OAAO,CAACL,OAAO,CAAC,cAAc,CAAC,GAAG,kBAAkB,CAAC,CAAC;MACtDK,OAAO,CAACD,IAAI,GAAGE,IAAI,CAACC,SAAS,CAACH,IAAI,CAAC;IACvC;IAEA,OAAOI,KAAK,CAAC,GAAG,IAAI,CAACT,OAAO,GAAGG,QAAQ,EAAE,EAAEG,OAAO,CAAC,CAC9CI,IAAI,CAAEC,GAAG,IAAK;MACX,IAAI,CAACA,GAAG,CAACC,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,iBAAiBF,GAAG,CAACG,MAAM,EAAE,CAAC;MAC3D,OAAOH,GAAG,CAACI,IAAI,CAAC,CAAC;IACrB,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAK;MACdC,OAAO,CAACD,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;IAClC,CAAC,CAAC;EACV;EAEAE,eAAeA,CAAA,EAAG;IACd,OAAO,IAAI,CAACjB,YAAY,CAAC,QAAQ,CAAC;EACtC;EAEAkB,WAAWA,CAAA,EAAG;IACV,OAAO,IAAI,CAAClB,YAAY,CAAC,WAAW,CAAC;EACzC;EAEAmB,WAAWA,CAAC;IAACC,IAAI;IAAEC;EAAK,CAAC,EAAE;IACvB,OAAO,IAAI,CAACrB,YAAY,CAAC,WAAW,EAAE,OAAO,EAAE;MAAEoB,IAAI;MAAEC;IAAM,CAAC,CAAC;EACnE;EAEAC,kBAAkBA,CAAC;IAACC;EAAM,CAAC,EAAE;IACzB,OAAO,IAAI,CAACvB,YAAY,CAAC,kBAAkB,EAAE,OAAO,EAAE;MAAEuB;IAAO,CAAC,CAAC;EACrE;EAEAC,OAAOA,CAAC;IAACJ,IAAI;IAAEK;EAAI,CAAC,EAAE;IAClB,OAAO,IAAI,CAACzB,YAAY,CAAC,QAAQ,EAAE,MAAM,EAAE;MAAEoB,IAAI;MAAEK;IAAK,CAAC,CAAC;EAC9D;EAEAC,UAAUA,CAACC,MAAM,EAAE;IACf,OAAO,IAAI,CAAC3B,YAAY,CAAC,UAAU2B,MAAM,EAAE,EAAE,QAAQ,CAAC;EAC1D;EAEAC,oBAAoBA,CAACD,MAAM,EAAEE,OAAO,EAAE;IACpC;IACA,OAAOA,OAAO,GAAG,IAAI,CAAC7B,YAAY,CAAC,gBAAgB2B,MAAM,EAAE,EAAE,KAAK,CAAC,GAAG,IAAI,CAAC3B,YAAY,CAAC,gBAAgB2B,MAAM,EAAE,EAAE,QAAQ,CAAC;IAAC;EAC9H;EAEAG,OAAOA,CAACH,MAAM,EAAE;IACZ,OAAO,IAAI,CAAC3B,YAAY,CAAC,gBAAgB2B,MAAM,EAAE,EAAE,KAAK,CAAC;EAC7D;EAEAI,UAAUA,CAACJ,MAAM,EAAE;IACf,OAAO,IAAI,CAAC3B,YAAY,CAAC,gBAAgB2B,MAAM,EAAE,EAAE,QAAQ,CAAC;EAChE;AACF;AAEA,MAAMK,GAAG,GAAG,IAAIpC,GAAG,CAAC;EAClBE,OAAO,EAAE,uDAAuD;EAChEC,OAAO,EAAE;IACLkC,aAAa,EAAE,sCAAsC;IACrD,cAAc,EAAE;EACpB;AACF,CAAC,CAAC;AAEF,eAAeD,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}